# ä¼æ¥­æŸ¥è©¢è³‡æ–™æµ

```mermaid
flowchart TD
    Start["ğŸ‘¤ ä½¿ç”¨è€…è¼¸å…¥çµ±ç·¨"] --> Page["/company/search<br/>(é é¢)"]
    Page --> API["/api/company/twincn<br/>(API ç«¯é»)"]
    API --> Service["lib/company/api.ts<br/>(æœå‹™å±¤)"]
    Service --> ExternalAPI["ğŸŒ å¤–éƒ¨ API<br/>company.g0v.ronny.tw"]
    ExternalAPI --> Parser["lib/company/parser.ts<br/>(è§£æå™¨)"]
    Parser --> Cache["ğŸ’¾ MongoDB<br/>CompanyModel<br/>(å¿«å–)"]
    Cache --> Return["ğŸ“Š è¿”å›ä¼æ¥­è©³ç´°è³‡æ–™"]
    Return --> Detail["/company/detail/[taxId]<br/>(å±•ç¤ºé é¢)"]
    Detail --> End["âœ… é¡¯ç¤ºä¼æ¥­è³‡è¨Š"]

    classDef userClass fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    classDef pageClass fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    classDef apiClass fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
    classDef serviceClass fill:#f3e5f5,stroke:#6a1b9a,stroke-width:2px
    classDef externalClass fill:#ffebee,stroke:#c62828,stroke-width:2px
    classDef dataClass fill:#fce4ec,stroke:#c2185b,stroke-width:2px

    class Start,End userClass
    class Page,Detail pageClass
    class API apiClass
    class Service,Parser serviceClass
    class ExternalAPI externalClass
    class Cache,Return dataClass
```
