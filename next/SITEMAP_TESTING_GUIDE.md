# ğŸ—ºï¸ Sitemap æ¸¬è©¦èˆ‡ç®¡ç†æŒ‡å—

## å¿«é€Ÿé–‹å§‹

### 1. ğŸš€ è¨ªå•æ¸¬è©¦é é¢
```
http://localhost:3000/admin/sitemap-test
```

### 2. ğŸ§ª é‹è¡Œæ¸¬è©¦è…³æœ¬
```bash
npm run test:sitemap
```

## åŠŸèƒ½æ¦‚è¦½

### ğŸ“„ å¯ç”¨çš„ Sitemap

| Sitemap | URL | ç‹€æ…‹ | æè¿° |
|---------|-----|------|------|
| ä¸»è¦ Sitemap | `/sitemap.xml` | âœ… éš¨æ™‚å¯ç”¨ | éœæ…‹é é¢ + å°‘é‡å‹•æ…‹å…§å®¹ |
| Sitemap Index | `/sitemap-index.xml` | âœ… éš¨æ™‚å¯ç”¨ | ç®¡ç†æ‰€æœ‰ sitemap çš„ç´¢å¼• |
| ä¼æ¥­ Sitemap | `/sitemap-companies.xml` | âš ï¸ éœ€è³‡æ–™åº« | æœ€å¤š 50,000 å€‹ä¼æ¥­é é¢ |
| æ¨™æ¡ˆ Sitemap | `/sitemap-tenders.xml` | âš ï¸ éœ€è³‡æ–™åº« | æœ€å¤š 25,000 å€‹æ¨™æ¡ˆé é¢ |
| AI å·¥å…· Sitemap | `/sitemap-aitools.xml` | âš ï¸ éœ€è³‡æ–™åº« | æœ€å¤š 5,000 å€‹å·¥å…·é é¢ |
| robots.txt | `/robots.txt` | âœ… éš¨æ™‚å¯ç”¨ | æœç´¢å¼•æ“çˆ¬èŸ²æŒ‡ä»¤ |

### ğŸ› ï¸ æ¸¬è©¦å·¥å…·åŠŸèƒ½

1. **è¼‰å…¥ Sitemap**: æŸ¥çœ‹é¸å®šçš„ sitemap å…§å®¹
2. **é©—è­‰ XML**: æª¢æŸ¥ XML æ ¼å¼æ˜¯å¦æ­£ç¢º
3. **åœ¨æ–°é é¢é–‹å•Ÿ**: ç›´æ¥åœ¨ç€è¦½å™¨æŸ¥çœ‹
4. **æ¸¬è©¦æ‰€æœ‰ Sitemap**: ä¸€éµæª¢æŸ¥æ‰€æœ‰ç‹€æ…‹

## ç¾éšæ®µæ¸¬è©¦é‡é»

### âœ… ç„¡éœ€è³‡æ–™åº«å³å¯æ¸¬è©¦çš„é …ç›®

1. **robots.txt** - ç¢ºä¿æœç´¢å¼•æ“æŒ‡ä»¤æ­£ç¢º
2. **ä¸»è¦ Sitemap** - åŒ…å«æ‰€æœ‰éœæ…‹é é¢
3. **Sitemap Index** - æ­£ç¢ºç®¡ç†æ‰€æœ‰ sitemap å¼•ç”¨
4. **ç®¡ç†ä»‹é¢** - æ¸¬è©¦å·¥å…·æ­£å¸¸é‹ä½œ

### âš ï¸ éœ€è¦è³‡æ–™åº«æ•¸æ“šçš„é …ç›®

ç”±æ–¼æ‚¨çš„ MongoDB é›†åˆç›®å‰ç‚ºç©ºï¼Œä»¥ä¸‹ sitemap æœƒé¡¯ç¤ºåŸºæœ¬çµæ§‹ä½†ç„¡å‹•æ…‹å…§å®¹ï¼š

- ä¼æ¥­ Sitemap (sitemap-companies.xml)
- æ¨™æ¡ˆ Sitemap (sitemap-tenders.xml)  
- AI å·¥å…· Sitemap (sitemap-aitools.xml)

**é€™æ˜¯æ­£å¸¸çš„ï¼** ç•¶æ‚¨æ·»åŠ è³‡æ–™å¾Œï¼Œé€™äº› sitemap æœƒè‡ªå‹•å¡«å……ç›¸æ‡‰çš„ URLã€‚

## æ¸¬è©¦æ­¥é©Ÿå»ºè­°

### Phase 1: åŸºç¤åŠŸèƒ½é©—è­‰
```bash
# 1. æª¢æŸ¥æœå‹™ç‹€æ…‹
docker-compose ps

# 2. é‹è¡Œå®Œæ•´æ¸¬è©¦
npm run test:sitemap

# 3. è¨ªå•ç®¡ç†é é¢
open http://localhost:3000/admin/sitemap-test
```

### Phase 2: ä»‹é¢æ¸¬è©¦
1. åœ¨ç®¡ç†é é¢ä¸­æ¸¬è©¦æ¯å€‹ sitemap
2. ä½¿ç”¨ã€Œæ¸¬è©¦æ‰€æœ‰ Sitemapã€åŠŸèƒ½
3. é©—è­‰ XML æ ¼å¼
4. æª¢æŸ¥å¿«é€Ÿé€£çµ

### Phase 3: å…§å®¹é©—è­‰
1. ç¢ºèªéœæ…‹é é¢éƒ½åŒ…å«åœ¨ä¸»è¦ sitemap ä¸­
2. æª¢æŸ¥ robots.txt æŒ‡å‘æ­£ç¢ºçš„ sitemap
3. é©—è­‰ sitemap index åŒ…å«æ‰€æœ‰å­ sitemap

## å¸¸è¦‹æ¸¬è©¦çµæœ

### âœ… æ­£å¸¸æƒ…æ³
- robots.txt: 200 (ç´„ 500-800 bytes)
- sitemap.xml: 200 (ç´„ 1000-2000 bytes)  
- sitemap-index.xml: 200 (ç´„ 500-800 bytes)
- sitemap-***.xml: 200 (ç´„ 100-300 bytesï¼Œå› ç‚ºç„¡æ•¸æ“š)

### âŒ å¯èƒ½çš„å•é¡Œ
- 404 éŒ¯èª¤: è·¯ç”±é…ç½®å•é¡Œ
- 500 éŒ¯èª¤: è³‡æ–™åº«é€£æ¥æˆ–ä»£ç¢¼éŒ¯èª¤
- XML æ ¼å¼éŒ¯èª¤: sitemap ç”Ÿæˆé‚è¼¯å•é¡Œ

## å¾ŒçºŒæ•¸æ“šæ·»åŠ æŒ‡å—

ç•¶æ‚¨æº–å‚™æ·»åŠ  MongoDB æ•¸æ“šæ™‚ï¼š

### ä¼æ¥­æ•¸æ“š (companies collection)
```javascript
{
  taxId: "12345678",
  name: "ä¼æ¥­åç¨±",
  searchCount: 100, // ç”¨æ–¼æ’åº
  updatedAt: new Date()
}
```

### æ¨™æ¡ˆæ•¸æ“š (tenders collection)
```javascript
{
  _id: ObjectId("..."),
  title: "æ¨™æ¡ˆæ¨™é¡Œ",
  tenderValue: 1000000, // ç”¨æ–¼æ’åº
  status: "active", // å¿…é ˆæ˜¯ ['active', 'open', 'published']
  updatedAt: new Date()
}
```

### AI å·¥å…·æ•¸æ“š (ai_tools collection)
```javascript
{
  _id: ObjectId("..."),
  name: "å·¥å…·åç¨±",
  usageCount: 50, // ç”¨æ–¼æ’åº
  rating: 4.5, // ç”¨æ–¼æ’åº
  status: "active", // å¿…é ˆæ˜¯ ['active', 'published']
  updatedAt: new Date()
}
```

## æ•…éšœæ’é™¤

### å¦‚æœ sitemap é¡¯ç¤ºç©ºç™½
1. æª¢æŸ¥ MongoDB é€£æ¥: `docker-compose logs mongodb`
2. æª¢æŸ¥æ‡‰ç”¨æ—¥èªŒ: `docker-compose logs app-dev`
3. ç¢ºèªé›†åˆå­˜åœ¨ä½†ç‚ºç©ºï¼ˆé€™æ˜¯æ­£å¸¸çš„ï¼‰

### å¦‚æœå‡ºç¾ 500 éŒ¯èª¤
1. æª¢æŸ¥ç’°å¢ƒè®Šæ•¸: `MONGODB_URI`
2. ç¢ºèª MongoDB æœå‹™é‹è¡Œ: `docker-compose ps`
3. æŸ¥çœ‹è©³ç´°éŒ¯èª¤: `docker-compose logs -f app-dev`

### é‡ç½®ä¸¦é‡æ–°æ¸¬è©¦
```bash
npm run fix:critters-issue
```

## é€²éšåŠŸèƒ½

### ç·©å­˜ç®¡ç†
- æ¯å€‹ sitemap éƒ½æœ‰ä¸åŒçš„ç·©å­˜æ™‚é–“
- é–‹ç™¼ç’°å¢ƒæœƒè‡ªå‹•åˆ·æ–°
- ç”Ÿç”¢ç’°å¢ƒå»ºè­°å®šæœŸæ¸…ç†ç·©å­˜

### SEO å„ªåŒ–
- æ‰€æœ‰ sitemap éƒ½ç¬¦åˆ XML Sitemap æ¨™æº–
- åŒ…å« lastmod, changefreq, priority æ¨™ç±¤
- æ”¯æ´ gzip å£“ç¸®ï¼ˆç”Ÿç”¢ç’°å¢ƒï¼‰

---

**ğŸ‰ æº–å‚™å°±ç·’ï¼** æ‚¨ç¾åœ¨å¯ä»¥é–‹å§‹ç†Ÿæ‚‰æ¸¬è©¦ä»‹é¢ï¼Œä¸¦é€æ­¥æ·»åŠ  MongoDB æ•¸æ“šä¾†çœ‹åˆ° sitemap çš„å®Œæ•´åŠŸèƒ½ã€‚